{"filter":false,"title":"linked_list2.c","tooltip":"~/workspace/linked_list2.c","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":184,"column":1},"action":"insert","lines":["/*"," * ====================================================================================="," *"," *       Filename:  single-linked-list.c"," *"," *    Description:  My single linked sorted list"," *"," *        Version:  1.0"," *        Created:  08/01/2012 10:19:21 AM"," *       Revision:  none"," *       Compiler:  gcc"," *"," *         Author:  YOUR NAME (http://www.weibo.com/wangshijun2010), wangshijun2010@gmail.com"," *   Organization:  Beijing Institute of Technology"," *"," * ====================================================================================="," */","#include <stdio.h>","#include <stdlib.h>","","typedef struct node {","\tint value;","\tstruct node *next;","} node;","","","void insert(void);","void delete(void);","void iterate(void);","void search(void);","void flush_stdin(void);","","node *list = NULL;","","int main(int argc, char *argv[]) {","\tint command;","","\tdo {","\t\tprintf(\"Avaliable commands\\n\\n\"","\t\t\t\t\"1 - Insert\\n\"","\t\t\t\t\"2 - Delete\\n\"","\t\t\t\t\"3 - Search\\n\"","\t\t\t\t\"0 - Quit\\n\\n\");","","\t\tprintf(\"Your command: \");","","\t\tscanf(\"%d\", &command);","\t\tflush_stdin();","","\t\tprintf(\"\\n\");","","\t\tswitch (command) {","\t\t\tcase 1: insert(); break;","\t\t\tcase 2: delete(); break;","\t\t\tcase 3: search(); break;","\t\t}","","\t\titerate();","\t","\t} while (command != 0);","","\t// free the list","\tnode *ptr = list;","\twhile (ptr != NULL) {","\t\tnode *previous = ptr;","\t\tptr = ptr->next;","\t\tfree(previous);","\t}","","\treturn 0;","}","","// Insert a node into list","void insert(void) {","","\tnode *new = malloc(sizeof(node));","\tif (new == NULL) {","\t\treturn;","\t}","\tnew->next = NULL;","","\tprintf(\"Value to insert: \");","\tscanf(\"%d\", &(new->value));","\tflush_stdin();","","\t// If empty list","\tif (list == NULL) {","\t\tlist = new;","\t\treturn;","\t}","","\tnode *previous = list, *ptr = list;","\twhile (ptr != NULL) {","\t\tif (ptr->value > new->value) {","\t\t\t// Insert at head","\t\t\tif (ptr == list) {","\t\t\t\tnew->next = ptr;","\t\t\t\tlist = new;","\t\t\t// Insert after head","\t\t\t} else {","\t\t\t\tnew->next = ptr;","\t\t\t\tprevious->next = new;","\t\t\t}","\t\t\treturn;","\t\t} else if (ptr->value == new->value) {","\t\t\tfree(new);","\t\t\treturn;","\t\t}","","\t\tprevious = ptr;","\t\tptr = ptr->next;","\t}","","\t// insert at end","\tprevious->next = new;","}","","// delete an node from list","void delete(void) {","","\tint value;","\tprintf(\"Value to delete: \");","\tscanf(\"%d\", &value);","\tflush_stdin();","","\tnode *previous = NULL, *ptr = list;","\twhile (ptr != NULL) {","\t\tif (ptr->value == value) {","\t\t\tif (ptr == list) {","\t\t\t\tlist = ptr->next;","\t\t\t} else {","\t\t\t\tprevious->next = ptr->next;\t\t\t\t","\t\t\t}","\t\t\tfree(ptr);","\t\t\treturn;","\t\t}","","\t\tprevious = ptr;","\t\tptr = ptr->next;","\t}","","\tprintf(\"Value not found!\\n\");","}","","","// search for an item in the list","void search(void) {","\tint value;","\tprintf(\"Value to search: \");","\tscanf(\"%d\", &value);","\tflush_stdin();","","\tnode *ptr = list;","\twhile (ptr != NULL) {","\t\tif (ptr->value == value) {","\t\t\tprintf(\"%d was found in list!\\n\", value);","\t\t\treturn;","\t\t}","","\t\tptr = ptr->next;","\t}","\t","\tprintf(\"%d was not found in list!\\n\", value);","}","","// iterate the list","void iterate(void) {","\tnode *ptr = list;","","\tfor(int i=0; i<80; i++, printf(\"-\"));","\tprintf(\"\\n\");","\t","\twhile (ptr != NULL) {","\t\tprintf((ptr->next == NULL) ? \"(%d)\" : \"(%d)->\", ptr->value);","\t\tptr = ptr->next;","\t}","\t","\tprintf(\"\\n\");","\tfor(int i=0; i<80; i++, printf(\"-\"));","\tprintf(\"\\n\");","}","","void flush_stdin(void) {","\twhile (getc(stdin) != '\\n');","}"],"id":1}],[{"start":{"row":58,"column":0},"end":{"row":58,"column":1},"action":"remove","lines":["\t"],"id":2},{"start":{"row":131,"column":31},"end":{"row":131,"column":35},"action":"remove","lines":["\t\t\t\t"]},{"start":{"row":161,"column":0},"end":{"row":161,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":171,"column":0},"end":{"row":171,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":176,"column":0},"end":{"row":176,"column":1},"action":"remove","lines":["\t"]}]]},"ace":{"folds":[],"scrolltop":118,"scrollleft":0,"selection":{"start":{"row":184,"column":1},"end":{"row":184,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1536785255139,"hash":"fdc01c894fe0daba57262b9aa51b6d4803de9b1a"}